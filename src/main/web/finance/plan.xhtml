<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core" 
	xmlns:c2="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


<ui:composition>
	<h:head>
		<h1><h:outputText value="Einzelne Gewinn- und Verlustrechnung anzeigen und bearbeiten" /></h1>
	</h:head>

	<h:body>
		<h:form>
		    <p:treeTable value="#{planController.root}" var="account">  
		        <f:facet name="header">  
		            Gewinn- und Verlustrechnung  
		        </f:facet>  
		  
		        <p:column style="width:150px">  
		            <f:facet name="header">  
		                Position (Buchungskonto)  
		            </f:facet>  
		            <h:outputText value="#{account.nameString}" />  
		        </p:column>  
		  
		        <p:column style="width:100px" rendered="#{planController.months[0]!=null}">  
		            <f:facet name="header">  
		                #{planController.months[0]}  
		            </f:facet>  
		            <h:outputText value="#{planController.amount(0,account.accountId,planController.months[0])}" />  
		        </p:column>  

		        <p:column style="width:100px" rendered="#{planController.months[1]!=null}">  
		            <f:facet name="header">  
		                #{planController.months[1]}  
		            </f:facet>  
		            <h:outputText value="#{planController.amount(0,account.accountId,planController.months[1])}" />  
		        </p:column>  

		        <p:column style="width:100px" rendered="#{planController.months[5]!=null}">  
		            <f:facet name="header">  
		                #{planController.months[5]}  
		            </f:facet>  
		            <h:outputText value="#{planController.amount(0,account.accountId,planController.months[5])}" />  
		        </p:column>  

				<!--  be careful with JSTL tag because they are only executed during tree building before tree evaluation -->
		  		<c2:forEach var="month" items="#{planController.months}">
			        <p:column style="width:100px">  
			            <f:facet name="header">  
			                #{month}  
			            </f:facet>  
			            <h:outputText value="#{planController.amount(0,account.accountId,month)}" />  
			        </p:column>  
				</c2:forEach>
		  		
		    </p:treeTable>  

			xxx
			            <br />  
		  		<ui:repeat var="month" value="#{planController.months}">
			                #{month}  
			            <h:outputText value="#{planController.amount(0,1,month)}" />
			            <br />  
				</ui:repeat>
			yyyy
			            <br />  
		  		<c:forEach var="month" items="#{planController.months}">
			        <p:column style="width:100px">  
			            <f:facet name="header">  
			                #{month}  
			            </f:facet>  
			            <h:outputText value="#{planController.amount(0,2,month)}" />  
			        </p:column>  
				</c:forEach>

		zzzzzz
		  		<c2:forEach var="month" items="#{planController.months}">
			        <p:column style="width:100px">  
			            <f:facet name="header">  
			                #{month}  
			            </f:facet>  
			            <h:outputText value="#{planController.amount(0,2,month)}" />  
			        </p:column>  
				</c2:forEach>
		aaaaaaaaaaaaaaa
		</h:form>
	</h:body>
</ui:composition>
</html>